(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],[,,,,function(e,t,n){e.exports={wrapper:"loader_wrapper__1KSNe",circle:"loader_circle__16Zdn","cssload-spin":"loader_cssload-spin__2dui9"}},,function(e,t,n){e.exports={wrapper:"App_wrapper__2IvJ5",background:"App_background__SbsyO",span:"App_span__1kN1O",move:"App_move__WcLEX",container:"App_container__ygRDH"}},function(e,t,n){e.exports={wrapper:"searchBox_wrapper__2_7qJ",input:"searchBox_input__1MGoy",button:"searchBox_button__3otJJ",icon:"searchBox_icon__9Bchx"}},function(e,t,n){e.exports={wrapper:"ForecastHeader_wrapper__3HYvf",header:"ForecastHeader_header__DAzO5",box:"ForecastHeader_box__1UdFn",icon:"ForecastHeader_icon__2JeWS"}},function(e,t,n){e.exports={container404:"pageNotFound_container404__1y1LP",messageMain:"pageNotFound_messageMain__3SH1-",messageAdditional:"pageNotFound_messageAdditional__3QDHF",icon:"pageNotFound_icon__3in6Y"}},function(e,t,n){e.exports={"image-field":"ImageField_image-field__2il8x",text:"ImageField_text__1sO2c",image:"ImageField_image__ywI7B"}},function(e,t,n){e.exports={wrapper:"radioItems_wrapper__3SuBP",input:"radioItems_input__1V8_l",text:"radioItems_text__ujkJF"}},function(e,t,n){e.exports={wrapper:"ImageField_wrapper__2T6qW",image:"ImageField_image__20n7Y",text:"ImageField_text__2qI-W"}},,function(e,t,n){e.exports={item:"descriptionListItem_item__2PYt3",icon:"descriptionListItem_icon__3ymP9"}},function(e,t,n){e.exports={descriptionList:"descriptionList_descriptionList__2QidY",title:"descriptionList_title__3p_HH"}},function(e,t,n){e.exports={item:"dataListFieldItem_item__2GKEe",icon:"dataListFieldItem_icon__2EqQE"}},function(e,t,n){e.exports={cardsList:"dataListField_cardsList__1iwxk",header:"dataListField_header__fWXdt"}},,function(e,t,n){e.exports={temperature:"temperatuteField_temperature__3dYSx"}},function(e,t,n){e.exports={card:"description__card_card__trJFJ"}},function(e,t,n){e.exports={header:"description__header_header__2v-Kq"}},function(e,t,n){e.exports={description:"description_description__rUteB"}},function(e,t,n){e.exports={header:"header_header__3fpuV"}},function(e,t,n){e.exports={choise:"radioBox_choise__2rlgm"}},function(e,t,n){e.exports={search:"search_search__1nMAT"}},function(e,t,n){e.exports={spinner:"spinner_spinner__3zcAD",loader:"spinner_loader__gPkfN"}},function(e,t,n){e.exports={content:"currentWeather_content__31XyG"}},function(e,t,n){e.exports={header:"dateField_header__Aeigg"}},function(e,t,n){e.exports={cards:"forecastListItem_cards__3U0aG"}},function(e,t,n){e.exports={listMain:"forecastList_listMain__2NG-Y"}},function(e,t,n){e.exports={cards:"hourlyForecast_cards__EBtMS"}},,,,,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),i=n(18),s=n.n(i),o=(n(39),n(2)),u=function(e){var t=Object(r.useState)(),n=Object(o.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(),s=Object(o.a)(i,2),u=s[0],d=s[1],l=function(e){var t=e.coords,n=t.latitude,a=t.longitude;c({lat:n,lon:a})},j=function(e){d(e.message)};return Object(r.useEffect)((function(){var t=navigator.geolocation;t?t.getCurrentPosition(l,j,e):d("Geolocation is not supported.")}),[e]),{location:a,error:u}},d=n(3),l=n.n(d),j=n(5),p="44b788430b6eae4f49d10064566fc911",f="http://api.openweathermap.org/data/2.5/weather?",b=function(e){return new Promise((function(t){return setTimeout((function(){return t()}),e)}))};function m(e){return h.apply(this,arguments)}function h(){return(h=Object(j.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b(3e3);case 3:return e.next=5,fetch("".concat(f,"lat=").concat(t.lat,"&lon=").concat(t.lon,"&units=metric&APPID=").concat(p));case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,n=r,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:return e.prev=15,e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})))).apply(this,arguments)}var x="44b788430b6eae4f49d10064566fc911",_="http://api.openweathermap.org/data/2.5/forecast?",O=function(e){return new Promise((function(t){return setTimeout((function(){return t()}),e)}))};function v(e){return g.apply(this,arguments)}function g(){return(g=Object(j.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(3e3);case 3:return e.next=5,fetch("".concat(_,"q=").concat(t,"&units=metric&appid=").concat(x));case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,n=r,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:return e.prev=15,e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})))).apply(this,arguments)}var w="44b788430b6eae4f49d10064566fc911",N="http://api.openweathermap.org/data/2.5/find?",y=function(e){return new Promise((function(t){return setTimeout((function(){return t()}),e)}))};function k(){return(k=Object(j.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(3e3);case 3:return e.next=5,fetch("".concat(N,"lat=").concat(t.lat,"&lon=").concat(t.lon,"&cnt=",9,"&units=metric&appid=").concat(w));case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,n=r,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:return e.prev=15,e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})))).apply(this,arguments)}var C=c.a.createContext({dataCity:void 0,dataPosition:void 0,updateData:function(e){return console.warn("default")},loadingCards:!1,updateWeatherCards:function(e){return console.warn("default")},loadingMain:!1,typeRequset:"",trueInfo:!0}),F=n(14),S=n.n(F),I=n.p+"static/media/sprite.bffd5d7d.svg",L=function(e){var t,n,r,c=e.value;switch(c[0]){case"feels_like":t="Feels like",n="".concat(c[1].toFixed(1)," ")+String.fromCharCode(8451);break;case"temp_min":t="Minimum",n="".concat(c[1].toFixed(1)," ")+String.fromCharCode(8451);break;case"temp_max":t="Maximum",n="".concat(c[1].toFixed(1)," ")+String.fromCharCode(8451);break;case"pressure":t="Pressure",n="".concat(c[1]," ")+String.fromCharCode(13169);break;case"humidity":t="Humidity",n="".concat(c[1]," ")+String.fromCharCode(37);break;case"speed":t="Speed",n="".concat(c[1]," (m/s)");break;case"sunrise":t="Sunrise",n=new Date(1e3*c[1]).toLocaleTimeString();break;case"sunset":t="Sunset",n=new Date(1e3*c[1]).toLocaleTimeString();break;case"deg":t="Direction",r="rotateZ(".concat(c[1],"deg)");break;case"all":t="Clouds",n="".concat(c[1]," ")+String.fromCharCode(37);break;case"visibility":t="Visibility",n="".concat(c[1]," (m)");break;default:t="Unknown status"}return Object(a.jsxs)("li",{className:S.a.item,children:[Object(a.jsx)("span",{children:t}),Object(a.jsx)("span",{children:"Direction"===t?Object(a.jsx)("svg",{className:S.a.icon,style:{transform:r},children:Object(a.jsx)("use",{href:I+"#arrow"})}):n})]})},P=n(15),D=n.n(P),H=function(e){var t,n,c,i,s,o=e.title,u=Object(r.useContext)(C).dataPosition,d=[],l=[],j=[],p=[],f=[];if(u)switch(o){case"Temperature parameters":d=Object.entries(u.main).filter((function(e){return"temp"!==e[0]&&"sea_level"!==e[0]&&"grnd_level"!==e[0]&&"pressure"!==e[0]}));break;case"Sunrise & Sunset data":l=Object.entries(u.sys).filter((function(e){return"country"!==e[0]&&"id"!==e[0]&&"type"!==e[0]}));break;case"Visibility":p=Object.entries(u).filter((function(e){return"visibility"===e[0]}));break;case"Wind":j=Object.entries(u.wind).filter((function(e){return"gust"!==e[0]}));break;case"Cloudiness":f=Object.entries(u.clouds)}return Object(a.jsxs)("ul",{className:D.a.descriptionList,children:[Object(a.jsx)("li",{className:D.a.title,children:o}),null===(t=d)||void 0===t?void 0:t.map((function(e,t){return Object(a.jsx)(L,{value:e},t)})),null===(n=l)||void 0===n?void 0:n.map((function(e,t){return Object(a.jsx)(L,{value:e},t)})),null===(c=p)||void 0===c?void 0:c.map((function(e,t){return Object(a.jsx)(L,{value:e},t)})),null===(i=j)||void 0===i?void 0:i.map((function(e,t){return Object(a.jsx)(L,{value:e},t)})),null===(s=f)||void 0===s?void 0:s.map((function(e,t){return Object(a.jsx)(L,{value:e},t)}))]})},A=n(10),E=n.n(A),M=function(){var e=Object(r.useContext)(C).dataPosition,t=null===e||void 0===e?void 0:e.weather[0].icon,n=null===e||void 0===e?void 0:e.weather[0].main;return Object(a.jsxs)("div",{className:E.a.wrapper,children:[Object(a.jsx)("p",{className:E.a.text,children:n}),Object(a.jsx)("img",{className:E.a.image,src:t?"http://openweathermap.org/img/wn/".concat(t,"@2x.png"):"",alt:"icon"})]})},T=n(19),W=n.n(T),B=function(){var e=Object(r.useContext)(C).dataPosition,t=null===e||void 0===e?void 0:e.main.temp;return Object(a.jsxs)("p",{className:W.a.temperature,children:[null===t||void 0===t?void 0:t.toFixed(1),"\u2103"]})},q=n(20),J=n.n(q),V=function(){return Object(a.jsxs)("div",{className:J.a.card,children:[Object(a.jsx)(M,{}),Object(a.jsx)(B,{}),["Temperature parameters","Sunrise & Sunset data","Visibility","Wind","Cloudiness"].map((function(e,t){return Object(a.jsx)(H,{title:e},t)}))]})},Y=n(21),G=n.n(Y),R=function(){var e=Object(r.useContext)(C).dataPosition,t=null===e||void 0===e?void 0:e.dt;return Object(a.jsxs)("div",{className:G.a.header,children:[Object(a.jsx)("p",{children:null===e||void 0===e?void 0:e.name}),Object(a.jsx)("p",{children:t?new Date(1e3*t).toLocaleDateString():Date.now()})]})},U=n(22),K=n.n(U),Q=function(){return Object(a.jsxs)("div",{className:K.a.description,children:[Object(a.jsx)(R,{}),Object(a.jsx)(V,{})]})},X=n(23),Z=n.n(X),z=function(){return Object(a.jsx)("h1",{className:Z.a.header,"data-text":"Current Weather",children:"Current Weather"})},$=n(7),ee=n.n($),te=function(e){var t=e.valueOfField,n=e.changeValue;return Object(a.jsxs)("p",{className:ee.a.wrapper,children:[Object(a.jsx)("input",{type:"text",className:ee.a.input,placeholder:"Enter the city name...",onChange:function(e){return n(e.target.value)},value:t}),Object(a.jsx)("button",{className:ee.a.button,type:"submit",children:Object(a.jsx)("svg",{className:ee.a.icon,children:Object(a.jsx)("use",{href:I+"#search"})})})]})},ne=n(33),ae=n(11),re=n.n(ae),ce=function(e){var t=e.forLabel,n=e.forId,c=e.text,i=e.id,s=e.check,o=e.onChange,u=Object(r.useContext)(C).trueInfo;return Object(a.jsxs)("label",{htmlFor:t,className:re.a.wrapper,children:[Object(a.jsx)("input",{type:"radio",className:re.a.input,name:"choiseCard",id:n,value:c,checked:s,onChange:o.bind(null,i,c),disabled:!u}),Object(a.jsx)("span",{className:re.a.text,children:c})]})},ie=n(24),se=n.n(ie),oe=function(e){var t=e.info,n=e.change;return Object(a.jsx)("p",{className:se.a.choise,children:t.map((function(e){return Object(a.jsx)(ce,Object(ne.a)({onChange:n},e),e.id)}))})},ue=n(25),de=n.n(ue),le=function(){var e=Object(r.useContext)(C),t=e.updateData,n=e.updateWeatherCards,c=Object(r.useState)(""),i=Object(o.a)(c,2),s=i[0],u=i[1],d=Object(r.useState)([{id:1,forLabel:"Hourly",forId:"Hourly",text:"Hourly",check:!0},{id:2,forLabel:"Nearby",forId:"Nearby",text:"Nearby",check:!1}]),l=Object(o.a)(d,2),j=l[0],p=l[1];return Object(a.jsxs)("form",{className:de.a.search,onSubmit:function(e){e.preventDefault(),s.trim()&&(t(s),u(" "))},children:[Object(a.jsx)(te,{valueOfField:s,changeValue:u}),Object(a.jsx)(oe,{info:j,change:function(e,t){p(j.map((function(e){return e.id,e.check=!e.check,e}))),n(t)}})]})},je=n(26),pe=n.n(je),fe=function(){return Object(a.jsx)("div",{className:pe.a.spinner})},be=n(27),me=n.n(be),he=function(){var e=Object(r.useContext)(C),t=e.loadingMain,n=e.trueInfo;return Object(a.jsxs)("div",{className:me.a.content,children:[Object(a.jsx)(z,{}),Object(a.jsx)(le,{}),t?Object(a.jsx)(fe,{}):n?Object(a.jsx)(Q,{}):""]})},xe=n(6),_e=n.n(xe),Oe=function(){return Object(a.jsx)("span",{className:_e.a.span})},ve=n(8),ge=n.n(ve),we=function(){var e=Object(r.useContext)(C).typeRequset;return Object(a.jsxs)("header",{className:ge.a.wrapper,children:[Object(a.jsxs)("h2",{className:ge.a.header,children:[e," forecast"]}),Object(a.jsx)("div",{className:ge.a.box,children:Object(a.jsx)("svg",{className:ge.a.icon,children:Object(a.jsx)("use",{href:I+"#lady"})})})]})},Ne=function(e){var t=e.data[1];return Object(a.jsx)("h3",{style:{textAlign:"center",fontWeight:600},children:t})},ye=n(12),ke=n.n(ye),Ce=function(e){var t=e.data,n=t.icon;return Object(a.jsxs)("figure",{className:ke.a.wrapper,children:[Object(a.jsx)("img",{className:ke.a.image,src:n?"http://openweathermap.org/img/wn/".concat(n,"@2x.png"):"",alt:"icon"}),Object(a.jsx)("figcaption",{className:ke.a.text,children:t.description})]})},Fe=n(28),Se=n.n(Fe),Ie=function(e){var t=e.data,n=new Date(1e3*t[1]).toLocaleString();return Object(a.jsx)("h3",{className:Se.a.header,children:Object(a.jsx)("time",{dateTime:n,children:n})})},Le=n(16),Pe=n.n(Le),De=function(e){var t=e.data,n="",r="",c="";switch(t[0]){case"temp":n="Temperature",r=t[1].toFixed(1)+String.fromCharCode(8451);break;case"feels_like":n="Feels like",r=t[1].toFixed(1)+String.fromCharCode(8451);break;case"speed":n="Speed",r=t[1].toFixed(1)+"(m/s)";break;case"deg":n="Direction",r=t[1].toFixed(1)+String.fromCharCode(37),c="rotateZ(".concat(t[1],"deg)")}return Object(a.jsxs)("li",{className:Pe.a.item,children:[Object(a.jsx)("span",{children:n}),Object(a.jsx)("span",{children:"Direction"===n?Object(a.jsx)("svg",{className:Pe.a.icon,style:{transform:c},children:Object(a.jsx)("use",{href:I+"#arrow"})}):r})]})},He=n(17),Ae=n.n(He),Ee=function(e){var t,n=e.data,r=[];switch(n[0]){case"main":t="Temperature",r=Object.entries(n[1]).filter((function(e){return"temp"===e[0]||"feels_like"===e[0]}));break;case"wind":t="Wind",r=Object.entries(n[1]);break;default:t="unknown"}return Object(a.jsxs)("ul",{className:Ae.a.cardsList,children:[Object(a.jsx)("li",{className:Ae.a.header,children:Object(a.jsx)("h3",{children:t})}),r.map((function(e,t){return Object(a.jsx)(De,{data:e},t)}))]})},Me=n(29),Te=n.n(Me),We=function(e){var t=e.data,n=[],r=[],c=[],i=[],s=[];return t&&(n=Object.entries(t).filter((function(e){return"name"===e[0]})),r=Object.entries(t).filter((function(e){return"dt"===e[0]})),c=Object.values(t.weather),i=Object.entries(t).filter((function(e){return"main"===e[0]})),s=Object.entries(t).filter((function(e){return"wind"===e[0]}))),Object(a.jsxs)("div",{className:Te.a.cards,children:[n.length>0?n.map((function(e,t){return Object(a.jsx)(Ne,{data:e},t)})):r.map((function(e,t){return Object(a.jsx)(Ie,{data:e},t)})),c.map((function(e,t){return Object(a.jsx)(Ce,{data:e},t)})),i.map((function(e,t){return Object(a.jsx)(Ee,{data:e},t)})),s.map((function(e,t){return Object(a.jsx)(Ee,{data:e},t)}))]})},Be=n(4),qe=n.n(Be),Je=function(){return Object(a.jsxs)("div",{className:qe.a.wrapper,children:[Object(a.jsx)("div",{className:qe.a.circle}),Object(a.jsx)("div",{className:qe.a.circle}),Object(a.jsx)("div",{className:qe.a.circle}),Object(a.jsx)("div",{className:qe.a.circle}),Object(a.jsx)("div",{className:qe.a.circle})]})},Ve=n(9),Ye=n.n(Ve),Ge=function(){return Object(a.jsxs)("div",{className:Ye.a.container404,children:[Object(a.jsx)("h4",{className:Ye.a.messageMain,children:"Page not found"}),Object(a.jsx)("div",{children:Object(a.jsx)("svg",{className:Ye.a.icon,children:Object(a.jsx)("use",{href:I+"#404"})})}),Object(a.jsx)("p",{className:Ye.a.messageAdditional,children:"This city does not exist, check the name of the city and make a second request"})]})},Re=n(30),Ue=n.n(Re),Ke=function(){var e=Object(r.useContext)(C),t=e.dataCity,n=e.loadingCards,c=e.trueInfo,i=[];return t&&(i=t.list.slice(0,9)),Object(a.jsx)("div",{className:Ue.a.listMain,children:n?Object(a.jsx)(Je,{}):c?i.map((function(e,t){return Object(a.jsx)(We,{data:e},t)})):Object(a.jsx)(Ge,{})})},Qe=n(31),Xe=n.n(Qe),Ze=function(){return Object(a.jsxs)("div",{className:Xe.a.cards,children:[Object(a.jsx)(we,{}),Object(a.jsx)(Ke,{})]})},ze={enableHighAccuracy:!0,timeout:6e4,maximumAge:864e5},$e={lat:50.45466,lon:30.5238},et=function(){for(var e=[],t=0;t<=19;t++)e.push(t);return e},tt=function(){var e=u(ze),t=e.location,n=e.error,i=c.a.useState(),s=Object(o.a)(i,2),d=s[0],l=s[1],j=c.a.useState(),p=Object(o.a)(j,2),f=p[0],b=p[1],h=c.a.useState(!0),x=Object(o.a)(h,2),_=x[0],O=x[1],g=c.a.useState(!0),w=Object(o.a)(g,2),N=w[0],y=w[1],F=c.a.useState(!0),S=Object(o.a)(F,2),I=S[0],L=S[1],P=c.a.useState("Hourly"),D=Object(o.a)(P,2),H=D[0],A=D[1],E=Object(r.useRef)($e),M=Object(r.useRef)("");Object(r.useEffect)((function(){t?(m(t).then((function(e){200===e.cod?(l(e),y(!1),M.current=e.name,v(e.name).then((function(e){b(e),O(!1)}))):console.log("Error",n)})).catch((function(e){return console.log("Error behind promise!",e)})),E.current=t):(m($e).then((function(e){200===e.cod?(l(e),y(!1),M.current=e.name,v(e.name).then((function(e){b(e),O(!1)}))):console.log("Error",e.message)})),E.current=$e)}),[t]);var T=function(e){switch(L(!0),O(!0),e){case"Hourly":A("Hourly"),v(M.current).then((function(e){"200"===e.cod?(b(e),O(!1)):(console.log("Error"),y(!1),O(!1),L(!1))}));break;case"Nearby":A("Nearby"),function(e){return k.apply(this,arguments)}(E.current).then((function(e){"200"===e.cod?(b(e),O(!1)):(console.log("Error"),y(!1),O(!1),L(!1))}))}};return Object(a.jsx)(C.Provider,{value:{dataPosition:d,updateData:function(e){switch(O(!0),y(!0),H){case"Hourly":v(e).then((function(e){if("200"===e.cod){var t=e.city.coord;E.current=t,M.current=e.city.name,m(t).then((function(e){L(!0),l(e),y(!1),O(!1)})),b(e)}else console.log("Error"),y(!1),O(!1),L(!1)}));break;case"Nearby":v(e).then((function(e){if("200"===e.cod){var t=e.city.coord;E.current=t,M.current=e.city.name,m(t).then((function(e){L(!0),l(e),y(!1),T("Nearby")}))}else console.log("Error"),O(!1),y(!1),L(!1)}))}},dataCity:f,loadingCards:_,updateWeatherCards:T,loadingMain:N,typeRequset:H,trueInfo:I},children:Object(a.jsxs)("section",{className:_e.a.wrapper,children:[Object(a.jsx)("div",{className:_e.a.background,children:et().map((function(e){return Object(a.jsx)(Oe,{},e)}))}),Object(a.jsxs)("div",{className:_e.a.container,children:[Object(a.jsx)(Ze,{}),Object(a.jsx)(he,{})]})]})})},nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},at=n(32);n.n(at).a.load({google:{families:["Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"]}}),s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(tt,{})}),document.getElementById("root")),nt()}],[[41,1,2]]]);
//# sourceMappingURL=main.6705e517.chunk.js.map